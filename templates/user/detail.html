
<!-- table formatting not particularly useful for passing data, will be replaced with js graph -->
<a href="update">Click this ugly thing to enter a new day!</a>


<html>
<head>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
	<script src="http://code.highcharts.com/highcharts.js"></script>
	<script src="http://code.highcharts.com/modules/exporting.js"></script>
	<!-- Additional files for the Highslide popup effect  per the ajax vs-->
	<script type="text/javascript" src="http://www.highcharts.com/highslide/highslide-full.min.js"></script>
	<script type="text/javascript" src="http://www.highcharts.com/highslide/highslide.config.js" charset="utf-8"></script>
	<link rel="stylesheet" type="text/css" href="http://www.highcharts.com/highslide/highslide.css" />
	<div id="container1" style="width: 100%; height: 500px"></div>
	<div id="container2" style="width: 100%; height: 250px"></div>
</head>


	<!-- <body>
		<p><var>high_BGL</var> = [{% for vital in vitals %} 
				{{ vital.high_BGL }},
				{% endfor %}]</p>

		<p><var>low_BGL</var> = [{% for vital in vitals %}
					{{ vital.low_BGL }},
					{% endfor %}]</p>

		<p><var>diet</var> = [{% for vital in vitals %} 
				{{ vital.diet }},
				{% endfor %}]</p>

		<p><var>activity</var> = [{% for vital in vitals %} 
				{{ vital.activity }},
				{% endfor %}]</p>

		<p><var>mood</var> = [{% for vital in vitals %} 
				{{ vital.mood }},
				{% endfor %}]</p>
		<p><var>comment</var> = [{% for vital in vitals %}
				{{ vital.comments }},
				{% endfor %}]</p>


	</body>
 -->


<div=graph1>
		<script>
		Highcharts.setOptions({
    		chart: {
        		style: {
            		fontFamily: 'monospace',
            		// color: "#FFFFFF", not working, not sure why not
       			}
    		}
		});

		 var chart; 
		$(document).ready(function() {
	      chart = new Highcharts.Chart({
	         chart: {
	            renderTo: 'container1',
	            type: 'line',
	            marginRight: 130,
                marginBottom: 25,
                width: 800,

	        },
	         title: {
	            text: 'Blood Glucose Variation' 
	        },
	         xAxis: {
	            categories: [{% for vital in vitals %}
						"{{ vital.entered_at|date:"M-d" }}",
						{% endfor %}]
        	},
	         yAxis: {
	            title: {
	               text: 'Daily BGL measurements'
	            }
	         },
			tooltip: {
                formatter: function() {
                        return [{% for vital in vitals %}
								'{{ vital.comments }}',
								{% endfor %}]			
                }
            },       
  			credits: {
    			enabled: false
  			},
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'top',
                x: -10,
                y: 100,
                borderWidth: 0
            },
	         series: [{
	            name: 'High BGL',
	            // color: '#0066ff',
	            data: [{% for vital in vitals %} 
					{{ vital.high_BGL }},
					{% endfor %}]
	         }, {
	            name: 'Low BGL',
	            // color: '#FF0000',
	            data: [{% for vital in vitals %}
						{{ vital.low_BGL }},
						{% endfor %}]
	         }]
	      });
	   });
		</script>
	</div>



	<!-- change this not a line graph -->
	<!-- better way to display?> -->
	<!-- maybe i can just squat it short -->
	<div=graph2>
		<script>
		 var chart; 
		$(document).ready(function() {
	      chart = new Highcharts.Chart({
	         chart: {
	            renderTo: 'container2',
	            type: 'line',
	            marginRight: 130,
                marginBottom: 25,
                width: 800,

	        },
	         title: {
	            text: 'Qualitative Health'
	        },
	         xAxis: {
	            categories: [{% for vital in vitals %}
						"{{ vital.entered_at|date:"M-d" }}",
						{% endfor %}]
        	},
	         yAxis: {
	            title: {
	               text: 'Qualitative Scale'
	               // change the scale to reflect
	               // categories: ['Poor', 'Average', 'Great']
	            }
	         },
			tooltip: {
                formatter: function() {
                        return [{% for vital in vitals %}
								'{{ vital.comments }}',
								{% endfor %}]			
                }
            },
  			credits: {
    			enabled: false
  			},
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'top',
                x: -10,
                y: 100,
                borderWidth: 0
            },


            // normalize this somehow, perhaps with a more readable scale, or condensed
	         series: [{
	            name: 'Mood',
	            data: [{% for vital in vitals %} 
					{{ vital.mood }},
					{% endfor %}]
	         }, {
	            name: 'Diet',
	            data: [{% for vital in vitals %}
						{{ vital.diet }},
						{% endfor %}]
			},
				{
	            name: 'Activity',
	            data: [{% for vital in vitals %}
						{{ vital.activity }},
						{% endfor %}]
	         }]
	      });
	   });
		</script>
	</div>






</html>






